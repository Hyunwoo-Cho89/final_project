<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.care.root.professor.dao.ProfessorDAO">
  	<resultMap type="com.care.root.professor.dto.ProfessorDTO" id="professor">
		<result property="idNum" column="id_num"/>
		<result property="name" column="name"/>
		<result property="pw" column="pw"/>
		<result property="residentNum" column="resident_num"/>
		<result property="phoneNum" column="phone_num"/>
		<result property="telNum" column="phone_num"/>
		<result property="addr" column="addr"/>
		<result property="detailAddr" column="detail_addr"/>
		<result property="email" column="email"/>
		<result property="major" column="major"/>
		<result property="grade" column="grade"/>
		<result property="class_" column="class"/>
		<result property="country" column="country"/>
		<result property="mentor" column="mentor"/>
		<result property="zipcodeSend" column="zipcode_send"/>
		<result property="smsSend" column="sms_send"/>
		<result property="position" column="position"/>
		<result property="imageFile" column="image_file"/>
		<result property="officeAddr" column="office_addr"/>
		<result property="bank" column="bank"/>
		<result property="accountNum" column="account_num"/>
		<result property="teachSub" column="teach_sub"/>
	</resultMap>
	
	<resultMap type="com.care.root.professor.dto.GradeInfoDTO" id="gradeInfo">
		<result property="idNum" column="id_num"/>
		<result property="name" column="name"/>
		<result property="majorSeme" column="major_semester"/>
		<result property="subjectName" column="subject_name"/>
		<result property="grade" column="grade"/>
		<result property="score" column="score"/>
		<result property="profName" column="prof_name"/>
		<result property="receivedCred" column="received_cred"/>
		<result property="applicationCred" column="application_cred"/>		
	</resultMap>
	
  	<select id="getJuniorList" resultMap="professor">
		select * from member_info where position = #{position} and grade = #{grade}
	</select>
	
	<select id="getSeniorList" resultMap="professor">
		select * from member_info where position = #{position} and grade = #{grade}
	</select>
	
	<select id="getSearchStu" resultMap="professor">
		select * from member_info where name=#{searchName} and position = #{position}
	</select>
	
	<select id="getSearchStaff" resultMap="professor">
		select * from member_info where name=#{searchName} and not position=#{position} 
	</select>
	
	<select id="getAdminList" resultMap="professor">
		select * from member_info where position = #{position}
	</select>
	
	<select id="getGradeInfo" resultMap="gradeInfo">
		select * from grade_info where subject_name = #{lecName} 
	</select>
	
	<select id="getBProfessorList" resultMap="professor">
		select * from member_info where position = #{position} and major = #{major}
	</select>
	
	<select id="getIProfessorList" resultMap="professor">
		select * from member_info where position = #{position} and major = #{major}
	</select>
	
	<select id="getCProfessorList" resultMap="professor">
		select * from member_info where position = #{position} and major = #{major}
	</select>
	
	<select id="getLecCheck" resultType="string">
		select teach_sub from member_info where id_Num = #{pId}
	</select>
	
	<update id="saveScore">
		update grade_info set score=#{score}, grade=#{grade} where id_num = #{idNum}
	</update>
  
  
  
  
  </mapper>